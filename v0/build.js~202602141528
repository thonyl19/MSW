const esbuild = require('esbuild');
const vuePlugin = require('esbuild-vue'); // æ”¹ç”¨ esbuild-vue
var outdir = 'Q:/ZAC_Dev/Genesis_MVC/wwwroot/'

const entryPoints = {
  //'mock-common': 'src/mock-entry.js', // é€šç”¨ç‰ˆ
  'mock-operation': 'src/pages/operation.js', // ä½œæ¥­ç®¡ç†å°ˆç”¨
  //'mock-user': 'src/pages/user.js' // ä½¿ç”¨è€…ç®¡ç†å°ˆç”¨
};

esbuild.build({
  entryPoints,
  bundle: true,
  outdir, 
  plugins: [
    vuePlugin({
        // é€™è£¡ç¢ºä¿å®ƒæ˜¯ç”¨ Vue 2 çš„ç·¨è­¯é‚è¼¯
        workers: false 
    })
  ],
  define: {
    'process.env.NODE_ENV': '"development"',
  },
}).then(() => {
    console.log("ğŸš€ æ‰“åŒ…æˆåŠŸï¼æˆå“å·²è¼¸å‡ºè‡³ MVC å°ˆæ¡ˆ");
}).catch((err) => {
    console.error("âŒ æ‰“åŒ…å¤±æ•—:", err);
    process.exit(1);
});